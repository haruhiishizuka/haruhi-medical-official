<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>お問い合わせ | 株式会社はるひメディカルサービス</title>
    <meta name="description" content="株式会社はるひメディカルサービスへのお問い合わせページ。医療業界の人材・経営に関するご相談はお気軽にお問い合わせください。">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/mobile-fixes.css">
    <!-- ヒラギノフォントはシステムフォントとして使用 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- ヘッダー -->
    <header class="header">
        <nav class="navbar">
            <div class="container" style="display: flex; justify-content: space-between; align-items: center;">
                <div class="nav-brand">
                    <a href="../index.html" class="logo-text" style="text-decoration: none; color: #333333;">株式会社はるひメディカルサービス</a>
                </div>
                <div style="display: flex; align-items: center; gap: 2rem;">
                    <ul class="nav-menu">
                        <li><a href="../index.html">Home</a></li>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="news/index.html">News</a></li>
                        <li><a href="contact.html" class="active">Contact</a></li>
                    </ul>
                    <a href="https://medimatch-quiz-new.netlify.app/" target="_blank" class="medimatch-btn">
                        <i class="fas fa-external-link-alt"></i> Medimatch
                    </a>
                    <div class="hamburger">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
            </div>
        </nav>
    </header>


    <!-- ページヒーロー -->
    <section class="page-hero" style="background-image: url('../images/haikei.jpg'); background-size: cover; background-position: center; background-repeat: no-repeat; margin-top: 80px; padding: 120px 0; position: relative;">
        <div class="hero-overlay" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.7);"></div>
        <div class="container" style="position: relative; z-index: 2;">
            <h1 class="page-title" style="color: white; text-shadow: 2px 2px 4px rgba(0,0,0,0.7);">Contact</h1>
            <p class="page-subtitle" style="color: white; text-shadow: 1px 1px 2px rgba(0,0,0,0.7);">お気軽にお問い合わせください</p>
        </div>
    </section>


    <!-- お問い合わせフォーム -->
    <section class="contact-form-section">
        <div class="container">
            <h2 class="section-title">お問い合わせフォーム</h2>
            <p class="section-subtitle">CONTACT FORM</p>
            
            <div class="form-wrapper">
                <form class="contact-form" id="contactForm">
                    
                    <!-- お問い合わせ種別 -->
                    <div class="form-group">
                        <label for="inquiry-type" class="form-label">
                            お問い合わせ種別 <span class="required">*</span>
                        </label>
                        <select id="inquiry-type" name="inquiry-type" class="form-select" required>
                            <option value="">選択してください</option>
                            <option value="recruitment">人材紹介について</option>
                            <option value="consulting">経営コンサルティングについて</option>
                            <option value="succession">事業承継について</option>
                            <option value="career">転職・キャリア相談</option>
                            <option value="partnership">業務提携について</option>
                            <option value="other">その他</option>
                        </select>
                    </div>

                    <!-- 法人・個人 -->
                    <div class="form-group">
                        <label class="form-label">
                            お立場 <span class="required">*</span>
                        </label>
                        <div class="radio-group">
                            <label class="radio-item">
                                <input type="radio" name="client-type" value="corporate" required>
                                <span class="radio-custom"></span>
                                法人・医療機関
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="client-type" value="individual" required>
                                <span class="radio-custom"></span>
                                個人（求職者）
                            </label>
                        </div>
                    </div>

                    <!-- 基本情報 -->
                    <div class="form-row">
                        <div class="form-group">
                            <label for="last-name" class="form-label">
                                姓 <span class="required">*</span>
                            </label>
                            <input type="text" id="last-name" name="last-name" class="form-input" required>
                        </div>
                        <div class="form-group">
                            <label for="first-name" class="form-label">
                                名 <span class="required">*</span>
                            </label>
                            <input type="text" id="first-name" name="first-name" class="form-input" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="last-name-kana" class="form-label">
                                セイ <span class="required">*</span>
                            </label>
                            <input type="text" id="last-name-kana" name="last-name-kana" class="form-input" placeholder="カタカナで入力" required>
                        </div>
                        <div class="form-group">
                            <label for="first-name-kana" class="form-label">
                                メイ <span class="required">*</span>
                            </label>
                            <input type="text" id="first-name-kana" name="first-name-kana" class="form-input" placeholder="カタカナで入力" required>
                        </div>
                    </div>

                    <!-- 法人情報（法人選択時のみ表示） -->
                    <div class="form-group corporate-fields" style="display: none;">
                        <label for="company-name" class="form-label">
                            法人・医療機関名 <span class="required">*</span>
                        </label>
                        <input type="text" id="company-name" name="company-name" class="form-input">
                    </div>

                    <div class="form-group corporate-fields" style="display: none;">
                        <label for="department" class="form-label">部署・役職</label>
                        <input type="text" id="department" name="department" class="form-input">
                    </div>

                    <!-- 連絡先情報 -->
                    <div class="form-group">
                        <label for="email" class="form-label">
                            メールアドレス <span class="required">*</span>
                        </label>
                        <input type="email" id="email" name="email" class="form-input" required>
                    </div>


                    <div class="form-group">
                        <label for="prefecture" class="form-label">
                            都道府県 <span class="required">*</span>
                        </label>
                        <select id="prefecture" name="prefecture" class="form-select" required>
                            <option value="">選択してください</option>
                            <option value="北海道">北海道</option>
                            <option value="青森県">青森県</option>
                            <option value="岩手県">岩手県</option>
                            <option value="宮城県">宮城県</option>
                            <option value="秋田県">秋田県</option>
                            <option value="山形県">山形県</option>
                            <option value="福島県">福島県</option>
                            <option value="茨城県">茨城県</option>
                            <option value="栃木県">栃木県</option>
                            <option value="群馬県">群馬県</option>
                            <option value="埼玉県">埼玉県</option>
                            <option value="千葉県">千葉県</option>
                            <option value="東京都">東京都</option>
                            <option value="神奈川県">神奈川県</option>
                            <option value="新潟県">新潟県</option>
                            <option value="富山県">富山県</option>
                            <option value="石川県">石川県</option>
                            <option value="福井県">福井県</option>
                            <option value="山梨県">山梨県</option>
                            <option value="長野県">長野県</option>
                            <option value="岐阜県">岐阜県</option>
                            <option value="静岡県">静岡県</option>
                            <option value="愛知県">愛知県</option>
                            <option value="三重県">三重県</option>
                            <option value="滋賀県">滋賀県</option>
                            <option value="京都府">京都府</option>
                            <option value="大阪府">大阪府</option>
                            <option value="兵庫県">兵庫県</option>
                            <option value="奈良県">奈良県</option>
                            <option value="和歌山県">和歌山県</option>
                            <option value="鳥取県">鳥取県</option>
                            <option value="島根県">島根県</option>
                            <option value="岡山県">岡山県</option>
                            <option value="広島県">広島県</option>
                            <option value="山口県">山口県</option>
                            <option value="徳島県">徳島県</option>
                            <option value="香川県">香川県</option>
                            <option value="愛媛県">愛媛県</option>
                            <option value="高知県">高知県</option>
                            <option value="福岡県">福岡県</option>
                            <option value="佐賀県">佐賀県</option>
                            <option value="長崎県">長崎県</option>
                            <option value="熊本県">熊本県</option>
                            <option value="大分県">大分県</option>
                            <option value="宮崎県">宮崎県</option>
                            <option value="鹿児島県">鹿児島県</option>
                            <option value="沖縄県">沖縄県</option>
                        </select>
                    </div>

                    <!-- お問い合わせ内容 -->
                    <div class="form-group">
                        <label for="subject" class="form-label">
                            件名 <span class="required">*</span>
                        </label>
                        <input type="text" id="subject" name="subject" class="form-input" required>
                    </div>

                    <div class="form-group">
                        <label for="message" class="form-label">
                            お問い合わせ内容 <span class="required">*</span>
                        </label>
                        <textarea id="message" name="message" class="form-textarea" rows="6" placeholder="具体的なご相談内容をお聞かせください" required></textarea>
                    </div>

                    <!-- 希望連絡時間 -->
                    <div class="form-group">
                        <label for="contact-time" class="form-label">ご連絡希望時間帯</label>
                        <select id="contact-time" name="contact-time" class="form-select">
                            <option value="">指定なし</option>
                            <option value="morning">午前中（9:00～12:00）</option>
                            <option value="afternoon">午後（13:00～17:00）</option>
                            <option value="evening">夕方（17:00～19:00）</option>
                        </select>
                    </div>

                    <!-- プライバシーポリシー同意 -->
                    <div class="form-group">
                        <label class="checkbox-item">
                            <input type="checkbox" name="privacy-agree" required>
                            <span class="checkbox-custom"></span>
                            <a href="privacy.html" target="_blank">プライバシーポリシー</a>に同意する <span class="required">*</span>
                        </label>
                    </div>


                    <!-- 送信ボタン -->
                    <div class="form-submit">
                        <button type="submit" class="btn btn-primary btn-large">
                            <i class="fas fa-paper-plane"></i> 送信する
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </section>


    <!-- よくある質問 -->
    <section class="faq-section">
        <div class="container">
            <h2 class="section-title">よくある質問</h2>
            <p class="section-subtitle">FAQ</p>
            
            <div class="faq-list">
                <div class="faq-item">
                    <div class="faq-question">
                        <h3>相談料はかかりますか？</h3>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>初回のご相談は無料で承っております。お気軽にお問い合わせください。具体的なサービス提供については、内容に応じてお見積もりをご提示いたします。</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <h3>どのような医療機関に対応していますか？</h3>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>病院・クリニック・介護施設・調剤薬局など、医療・介護に関わる全ての事業所に対応しております。規模に関わらず、お気軽にご相談ください。</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <h3>全国対応可能ですか？</h3>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>はい、全国対応可能です。遠方の場合はオンラインでのご相談も承っております。必要に応じて現地にお伺いすることも可能です。</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <h3>秘密保持は徹底していますか？</h3>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>はい、厳格な秘密保持体制を整えております。ご相談内容や個人情報の取り扱いについては、プライバシーポリシーに従い適切に管理いたします。</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <h3>急ぎの案件にも対応可能ですか？</h3>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>初回のご連絡は3日以内に担当よりご連絡いたします。またご契約後は代表者様からのご相談は24時間365日対応が可能です。緊急の案件にも対応いたしますのでご安心してご利用いただけます。</p>
                    </div>
                </div>
            </div>
            
            <div class="faq-footer" style="text-align: center;">
                <h3>詳しく知りたい医療機関さまへ</h3>
                <p>上記以外のご質問や具体的な事例紹介は、お気軽にお問い合わせフォームからご連絡ください。</p>
            </div>
        </div>
    </section>

    <!-- フッター -->
    <footer class="footer">
        <div class="container">
            <div style="display: grid; grid-template-columns: 2fr 1fr 1fr; gap: 3rem; margin-bottom: 2rem; align-items: start;">
                
                <!-- 会社情報 -->
                <div>
                    <h3 style="color: white; font-size: 1.3rem; margin-bottom: 1.5rem; font-weight: 600; line-height: 1.4;">株式会社はるひメディカルサービス</h3>
                    <p style="color: white; line-height: 1.6; margin-bottom: 1.5rem;">医療業界に特化した人材・経営コンサルティングで医療の未来を支えます</p>
                    <div style="display: flex; flex-direction: column; gap: 0.75rem; font-size: 0.9rem; color: white;">
                        <div style="display: flex; align-items: center;"><i class="fas fa-envelope" style="width: 18px; margin-right: 0.75rem;"></i>jinji@haruhi-medical.com</div>
                        <div style="display: flex; align-items: center;"><i class="fas fa-map-marker-alt" style="width: 18px; margin-right: 0.75rem;"></i>愛知県岩倉市大地新町3丁目45番地2</div>
                    </div>
                </div>
                
                <!-- ナビゲーション -->
                <div>
                    <h4 style="color: white; font-size: 1rem; margin-bottom: 1rem; font-weight: 600; text-align: center;">Company</h4>
                    <ul style="list-style: none; padding: 0; margin: 0; text-align: center;">
                        <li style="margin-bottom: 0.75rem;"><a href="about.html" style="color: white; text-decoration: none; font-size: 0.9rem; transition: opacity 0.2s;" onmouseover="this.style.opacity='0.7'" onmouseout="this.style.opacity='1'">会社概要</a></li>
                        <li style="margin-bottom: 0.75rem;"><a href="contact.html" style="color: white; text-decoration: none; font-size: 0.9rem; transition: opacity 0.2s;" onmouseover="this.style.opacity='0.7'" onmouseout="this.style.opacity='1'">お問い合わせ</a></li>
                        <li style="margin-bottom: 0.75rem;"><a href="https://medimatch-quiz-new.netlify.app/" target="_blank" style="color: white; text-decoration: none; font-size: 0.9rem; transition: opacity 0.2s;" onmouseover="this.style.opacity='0.7'" onmouseout="this.style.opacity='1'">MediMatch</a></li>
                    </ul>
                </div>
                
                <!-- お問い合わせCTA -->
                <div style="text-align: center;">
                    <h4 style="color: white; font-size: 1rem; margin-bottom: 1rem; font-weight: 600;">Contact Us</h4>
                    <p style="color: white; font-size: 0.9rem; margin-bottom: 1.5rem; line-height: 1.5;">お気軽にご相談ください</p>
                    <a href="contact.html" 
                       style="display: inline-block; background: linear-gradient(135deg, #817d6c, #928c7b); color: white; padding: 0.75rem 1.5rem; border-radius: 25px; text-decoration: none; font-size: 0.9rem; font-weight: 600; transition: all 0.2s; box-shadow: 0 4px 15px rgba(129, 125, 108, 0.3);" 
                       onmouseover="this.style.background='linear-gradient(135deg, #928c7b, #817d6c)'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 10px 25px rgba(129, 125, 108, 0.4)'" 
                       onmouseout="this.style.background='linear-gradient(135deg, #817d6c, #928c7b)'; this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(129, 125, 108, 0.3)'">
                        お問い合わせする
                    </a>
                </div>
            </div>
            
            <!-- フッターボトム -->
            <div style="border-top: 1px solid #4a5568; padding-top: 1.5rem; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem;">
                <div style="display: flex; gap: 2rem;">
                    <a href="privacy.html" style="color: white; text-decoration: none; font-size: 0.85rem; transition: opacity 0.2s;" onmouseover="this.style.opacity='0.7'" onmouseout="this.style.opacity='1'">プライバシーポリシー</a>
                    <a href="terms.html" style="color: white; text-decoration: none; font-size: 0.85rem; transition: opacity 0.2s;" onmouseover="this.style.opacity='0.7'" onmouseout="this.style.opacity='1'">利用規約</a>
                </div>
                <p style="margin: 0; color: white; font-size: 0.85rem;">&copy; 2024 株式会社はるひメディカルサービス</p>
            </div>
        </div>
        
        <style>
            @media (max-width: 768px) {
                footer .container > div:first-child {
                    grid-template-columns: 1fr !important;
                    gap: 2.5rem !important;
                    text-align: center !important;
                }
                footer .container > div:last-child {
                    flex-direction: column !important;
                    text-align: center !important;
                    gap: 1rem !important;
                }
                footer .container > div:last-child > div:first-child {
                    gap: 1.5rem !important;
                }
            }
        </style>
    </footer>

    
    <script src="../js/main.js?v=2"></script>
    <script>
        // Slack連携フォーム制御（medimatch-quiz-newと同じ仕組み）
        async function sendToSlack(formData) {
            console.log('🔔 sendToSlack called with:', formData);

            try {
                // api/slack経由で送信（medimatch-quiz-newと同じURL）
                const functionUrl = '/api/slack';
                
                console.log('🌐 Netlify Function経由で送信を試みます:', functionUrl);
                
                const response = await fetch(functionUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ formData })
                });

                if (!response.ok) {
                    throw new Error(`Function呼び出しエラー: ${response.status}`);
                }

                let result;
                try {
                    result = await response.json();
                } catch (e) {
                    const text = await response.text();
                    result = { success: response.ok, message: text };
                }

                console.log('📊 Slack送信結果:', result);

                if (result.success || response.ok) {
                    return { success: true };
                } else {
                    throw new Error(result.message || '不明なエラー');
                }
            } catch (error) {
                console.error('❌ Slack送信エラー:', error.message);
                return { success: false, message: error.message };
            }
        }
        
        // フォーム制御
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('contactForm');
            
            form.addEventListener('submit', async function(e) {
                e.preventDefault();
                
                const submitBtn = form.querySelector('button[type="submit"]');
                const originalText = submitBtn.innerHTML;
                submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> 送信中...';
                submitBtn.disabled = true;
                
                try {
                    // フォームデータを取得
                    const formData = new FormData(form);
                    const data = {};
                    formData.forEach((value, key) => {
                        data[key] = value;
                    });
                    
                    // Slackに送信
                    const result = await sendToSlack(data);
                    
                    if (result.success) {
                        // 成功ページにリダイレクト
                        window.location.href = '/pages/contact-success.html';
                    } else {
                        throw new Error(result.message || '送信に失敗しました');
                    }
                    
                } catch (error) {
                    console.error('送信エラー:', error);
                    alert('送信に失敗しました。しばらく時間をおいて再度お試しください。\n\nお急ぎの場合は、直接メールまたはお電話にてお問い合わせください。\nメール: jinji@haruhi-medical.com');
                } finally {
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                }
            });
            const clientTypeInputs = document.querySelectorAll('input[name="client-type"]');
            const corporateFields = document.querySelectorAll('.corporate-fields');
            const companyNameField = document.getElementById('company-name');
            
            // 法人・個人の表示制御
            clientTypeInputs.forEach(input => {
                input.addEventListener('change', function() {
                    if (this.value === 'corporate') {
                        corporateFields.forEach(field => {
                            field.style.display = 'block';
                        });
                        companyNameField.required = true;
                    } else {
                        corporateFields.forEach(field => {
                            field.style.display = 'none';
                        });
                        companyNameField.required = false;
                    }
                });
            });
            
            // FAQ アコーディオン
            const faqItems = document.querySelectorAll('.faq-item');
            
            faqItems.forEach(item => {
                const question = item.querySelector('.faq-question');
                const answer = item.querySelector('.faq-answer');
                const icon = question.querySelector('i');
                
                question.addEventListener('click', function() {
                    const isOpen = item.classList.contains('active');
                    
                    // 全てのFAQを閉じる
                    faqItems.forEach(otherItem => {
                        otherItem.classList.remove('active');
                        otherItem.querySelector('.faq-answer').style.maxHeight = null;
                        otherItem.querySelector('.faq-question i').style.transform = 'rotate(0deg)';
                    });
                    
                    // クリックされたFAQを開く/閉じる
                    if (!isOpen) {
                        item.classList.add('active');
                        answer.style.maxHeight = answer.scrollHeight + 'px';
                        icon.style.transform = 'rotate(180deg)';
                    }
                });
            });
        });
    </script>
</body>
</html>